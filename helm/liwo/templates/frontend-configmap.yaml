apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.prefix }}-{{ .Values.frontend.name }}-configmap
data:
  frontend_config.json: |-
    {
      "_comment0": "This file will be overwritten automatically by helm values in the deployment process, DO NOT EDIT BY HAND, DO NOT MINIFY",
      "_comment1": "url's for webservice calls",
      "WEBSERVICE_URL": "http://{{ .Values.ingress.host }}/liwo.ws",
      "STATIC_GEOSERVER_URL": "http://{{ .Values.ingress.host }}/geoserver/ows",
      "LEGEND_URL": "http://{{ .Values.ingress.host }}/geoserver/ows",
      "DYNAMIC_GEOSERVER_URL": "http://{{ .Values.ingress.host }}/geoserver/ows",
      "ACHTERGRONDKAART": "https://geodata.nationaalgeoregister.nl/tms/1.0.0/brtachtergrondkaart/{z}/{x}/{y}.png",
      "LUCHTFOTOKAART": "https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/tms/1.0.0/2016_ortho25/EPSG:28992/{z}/{x}/{y}.png",
      "_comment2": "url for internal routing to static geoserver",
      "STATIC_GEOSERVER_LOCAL": "http://{{ .Values.ingress.host }}/geoserver/ows",
      "_comment3": "// url for internal routing to dynamic geoserver",
      "DYNAMIC_GEOSERVER_LOCAL": "http://{{ .Values.ingress.host }}/geoserver/ows",
      "_comment4": "// url for print geoserver [ending with a forward slash]",
      "PRINT_GEOSERVER_URL": "",
      "PDOKLUCHTFOTO": "https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wms",
      "PDOKBRTACHTERGROND": "https://geodata.nationaalgeoregister.nl/tiles/service/wmts",
      "MANUAL_URL": "https://www.helpdeskwater.nl/onderwerpen/applicaties-modellen/applicaties-per/watermanagement/watermanagement/liwo",
      "_comment5": "// URL for combining scenario's",
      "HYDRO_ENGINE_URL": "https://hydro-engine.ey.r.appspot.com/v2",
      "_comment6": "// application version (whole set)",
      "VERSION": "{{ $.Chart.AppVersion }}",
      "_comment7": "// dataset version (GEE)",
      "DATASET_VERSION": "{{ .Values.datasets.geoserver.data }}",
      "_comment8": "// backend version",
      "BACKEND_VERSION": "{{ .Values.images.backend.repository }}:{{ .Values.images.backend.tag }}"
    }
